2025-08-31 18:46:53,766 - main - DEBUG - Auth check for heidi_chat: authenticated=4, user_id=4, logged_in=True, current_user=Ethan
2025-08-31 18:46:53,767 - main - ERROR - Exception on /api/heidi/chat [POST]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/main.py", line 2061, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.12/site-packages/flask_limiter/extension.py", line 1314, in __inner
    return cast(R, flask.current_app.ensure_sync(obj)(*a, **k))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/main.py", line 4137, in heidi_chat
    if not SystemSettings.is_heidi_enabled():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'SystemSettings' has no attribute 'is_heidi_enabled'
2025-08-31 18:46:53,810 - main - ERROR - Error getting system settings for templates: type object 'SystemSettings' has no attribute 'is_maintenance_mode'
2025-08-31 18:46:53,823 - werkzeug - INFO - 172.31.92.98 - - [31/Aug/2025 18:46: